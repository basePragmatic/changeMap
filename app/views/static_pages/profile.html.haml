%body.h-full{"cz-shortcut-listen" => "true"}
  #notification-tray.fixed.z-50.space-y-1.top-6.right-6
  .flex.h-full
    .p-6.pb-20.shrink-0.h-full.overflow-y-auto{class: "w-[368px]"}
      / BEGIN app/views/settings/_nav.html.erb
      .flex.items-center.gap-1.mb-6
        %a.flex.items-center.gap-1.text-gray-900.font-medium.text-sm{href: "/"}
          %svg.w-5.h-5.text-gray-500{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}
            %path{d: "m15 18-6-6 6-6"}
          %span Back
        %span.uppercase.bg-gray-100.rounded-sm.px-1.text-xs.text-gray-500.shadow-sm.ml-1{class: "py-0.5", "data-action" => "hotkey#navigateBack", "data-controller" => "hotkey", "data-hotkey" => "Escape"}
          esc
      %nav.space-y-4
        %section.space-y-2
          .flex.items-center.gap-2
            %h3.uppercase.text-gray-500.font-medium.text-xs General
            .h-px.bg-alpha-black-100.w-full
          %ul.space-y-1
            %li
              %a.flex.items-center.gap-2.px-3.py-2.rounded-xl.border.text-sm.font-medium.text-gray-500.bg-white.text-gray-900.shadow-xs.border-alpha-black-50{"aria-current" => "page", href: "/settings/profile", icon: "circle-user"}
                %svg.w-5.h-5{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}>
                  %circle{cx: "12", cy: "12", r: "10"}
                  %circle{cx: "12", cy: "10", r: "3"}
                  %path{d: "M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"}
                Account
            %li
              %a.flex.items-center.gap-2.px-3.py-2.rounded-xl.border.text-sm.font-medium.text-gray-500.hover:bg-gray-100.border-transparent{href: "/settings/preferences", icon: "bolt"}
                %svg.w-5.h-5{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}>
                  %path{d: "M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}
                  %circle{cx: "12", cy: "12", r: "4"}
                Preferences
            %li
              %a.flex.items-center.gap-2.px-3.py-2.rounded-xl.border.text-sm.font-medium.text-gray-500.hover:bg-gray-100.border-transparent{href: "/settings/notifications", icon: "bell-dot"}
                %svg.w-5.h-5{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}>
                  %path{d: "M19.4 14.9C20.2 16.4 21 17 21 17H3s3-2 3-9c0-3.3 2.7-6 6-6 .7 0 1.3.1 1.9.3"}
                  %path{d: "M10.3 21a1.94 1.94 0 0 0 3.4 0"}
                  %circle{cx: "18", cy: "8", r: "3"}
                Notifications
            %li
              %a.flex.items-center.gap-2.px-3.py-2.rounded-xl.border.text-sm.font-medium.text-gray-500.hover:bg-gray-100.border-transparent{href: "/settings/security", icon: "shield-check"}
                %svg.w-5.h-5{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}>
                  %path{d: "M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"}
                  %path{d: "m9 12 2 2 4-4"}
                Security
            %li
              %a.flex.items-center.gap-2.px-3.py-2.rounded-xl.border.text-sm.font-medium.text-gray-500.hover:bg-gray-100.border-transparent{href: "/settings/billing", icon: "circle-dollar-sign"}
                %svg.w-5.h-5{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}>
                  %circle{cx: "12", cy: "12", r: "10"}
                  %path{d: "M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"}
                  %path{d: "M12 18V6"}
                Billing
            %li
              %a.flex.items-center.gap-2.px-3.py-2.rounded-xl.border.text-sm.font-medium.text-gray-500.hover:bg-gray-100.border-transparent{href: "/accounts", icon: "layers"}
                %svg.w-5.h-5{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}>
                  %path{d: "m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"}
                  %path{d: "m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65"}
                  %path{d: "m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65"}
                Accounts
        %section.space-y-2
          .flex.items-center.gap-2
            %h3.uppercase.text-gray-500.font-medium.text-xs Transactions
            .h-px.bg-alpha-black-100.w-full
          %ul.space-y-1
            %li
              %a.flex.items-center.gap-2.px-3.py-2.rounded-xl.border.text-sm.font-medium.text-gray-500.hover:bg-gray-100.border-transparent{href: "/transactions/categories", icon: "tags"}
                %svg.w-5.h-5{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}>
                  %path{d: "m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19"}
                  %path{d: "M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z"}
                  %circle{cx: "6.5", cy: "9.5", fill: "currentColor", r: ".5"}
                Categories
            %li
              %a.flex.items-center.gap-2.px-3.py-2.rounded-xl.border.text-sm.font-medium.text-gray-500.hover:bg-gray-100.border-transparent{href: "/transactions/merchants", icon: "store"}
                %svg.w-5.h-5{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}>
                  %path{d: "m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"}
                  %path{d: "M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}
                  %path{d: "M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"}
                  %path{d: "M2 7h20"}
                  %path{d: "M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7"}
                Merchants
            %li
              %a.flex.items-center.gap-2.px-3.py-2.rounded-xl.border.text-sm.font-medium.text-gray-500.hover:bg-gray-100.border-transparent{href: "/transactions/rules", icon: "list-checks"}
                %svg.w-5.h-5{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}>
                  %path{d: "m3 17 2 2 4-4"}
                  %path{d: "m3 7 2 2 4-4"}
                  %path{d: "M13 6h8"}
                  %path{d: "M13 12h8"}
                  %path{d: "M13 18h8"}
                Rules
        %section.space-y-2
          .flex.items-center.gap-2
            %h3.uppercase.text-gray-500.font-medium.text-xs More
            .h-px.bg-alpha-black-100.w-full
          %ul.space-y-1
            %li
              %a.flex.items-center.gap-2.px-3.py-2.rounded-xl.border.text-sm.font-medium.text-gray-500.hover:bg-gray-100.border-transparent{href: "/changelog", icon: "box"}
                %svg.w-5.h-5{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}>
                  %path{d: "M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}
                  %path{d: "m3.3 7 8.7 5 8.7-5"}
                  %path{d: "M12 22V12"}
                What's New
              %a.flex.items-center.gap-2.px-3.py-2.rounded-xl.border.text-sm.font-medium.text-gray-500.hover:bg-gray-100.border-transparent{href: "/feedback", icon: "megaphone"}
                %svg.w-5.h-5{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}>
                  %path{d: "m3 11 18-5v12L3 14v-3z"}
                  %path{d: "M11.6 16.8a3 3 0 1 1-5.8-1.6"}
                Feedback
              %a.flex.items-center.gap-2.px-3.py-2.rounded-xl.border.text-sm.font-medium.text-gray-500.hover:bg-gray-100.border-transparent{href: "/invites", icon: "gift"}
                %svg.w-5.h-5{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}>
                  %rect{height: "4", rx: "1", width: "18", x: "3", y: "8"}
                  %path{d: "M12 8v13"}
                  %path{d: "M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"}
                  %path{d: "M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"}
                Invite friends
      / END app/views/settings/_nav.html.erb
    %main.grow.px-20.pt-6.pb-32.h-full.overflow-y-auto
      / BEGIN app/views/settings/profiles/show.html.erb
      .space-y-4
        %h1.text-gray-900.text-xl.font-medium.mb-4 Account
        .space-y-4
          / BEGIN app/views/settings/_section.html.erb
          %section.bg-white.border.border-alpha-black-25.shadow-xs.rounded-xl.p-4.space-y-4
            %div
              %h2.text-lg.font-medium.text-gray-900 Profile
              - user = User.last
              %p{id: "user_status_#{user.id}"}
                = user.email
                %span{class: "#{user.online ? 'online' : 'offline'}"}= user.online ? 'online' : 'offline'
              %p.text-gray-500.text-sm.mt-1 Customize how you appear on Maybe
            %div
              %form.space-y-4{"accept-charset" => "UTF-8", action: "/settings/profile", "data-controller" => "profile-image-preview", enctype: "multipart/form-data", method: "post"}
                %input{autocomplete: "off", name: "_method", type: "hidden", value: "patch"}/
                %input{autocomplete: "off", name: "authenticity_token", type: "hidden", value: "GzaRfaUB1sN6eljaiwIZg1a5FNo1NUGx4NCouQCD06cnAK3I0D5TDTRvXYFMk0LFZ_QK5un5PK8gkPrtrAuBYQ"}/
                .flex.items-center.gap-4
                  .relative.flex.justify-center.items-center.bg-gray-50.w-24.h-24.rounded-full.border.border-alpha-black-25
                    %div{"data-profile-image-preview-target" => "imagePreview"}
                      %svg.w-6.h-6.text-gray-500{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}
                        %path{d: "M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"}
                        %line{x1: "16", x2: "22", y1: "5", y2: "5"}
                        %line{x1: "19", x2: "19", y1: "2", y2: "8"}
                        %circle{cx: "9", cy: "9", r: "2"}
                        %path{d: "m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}
                    %svg.hidden.w-6.h-6.text-gray-500{"aria-hidden" => "true", "data-profile-image-preview-target" => "template", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}
                      %path{d: "M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"}
                      %line{x1: "16", x2: "22", y1: "5", y2: "5"}
                      %line{x1: "19", x2: "19", y1: "2", y2: "8"}
                      %circle{cx: "9", cy: "9", r: "2"}
                      %path{d: "m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}
                    .hidden.cursor-pointer.absolute.bottom-0.right-0.w-8.h-8.bg-gray-50.rounded-full.flex.justify-center.items-center.border.border-white.border-2{"data-action" => "click->profile-image-preview#clear", "data-profile-image-preview-target" => "clearBtn"}
                      %svg.w-4.h-4.text-gray-500{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}
                        %path{d: "M18 6 6 18"}
                        %path{d: "m6 6 12 12"}
                  .space-y-3
                    %p JPG, GIF or PNG. 5MB max.
                    %label.inline-block.cursor-pointer.px-3.py-2.bg-gray-50.text-gray-900.rounded-md.text-sm.font-medium{for: "user_profile_image"} Choose
                    %input#user_profile_image.hidden.px-3.py-2.bg-gray-50.text-gray-900.rounded-md.text-sm.font-medium{accept: "wimage/png, image/jpeg, image/gif", "data-action" => "change->profile-image-preview#preview", "data-profile-image-preview-target" => "fileField", name: "user[profile_image]", type: "file"}/
                    %input#user_delete_profile_image{autocomplete: "off", "data-profile-image-preview-target" => "deleteField", name: "user[delete_profile_image]", type: "hidden", value: "false"}/
                %div
                  .grid.grid-cols-2.gap-4.mt-4
                    .form-field
                      %label.form-field__label{for: "user_first_name"} First Name
                      %input#user_first_name.form-field__input{name: "user[first_name]", placeholder: "First name", type: "text"}/
                    .form-field
                      %label.form-field__label{for: "user_last_name"} Last Name
                      %input#user_last_name.form-field__input{name: "user[last_name]", placeholder: "Last name", type: "text"}/
                  .flex.justify-end.mt-4
                    %input.bg-gray-900.text-white.rounded-lg.px-3.py-2{"data-disable-with" => "Save", name: "commit", type: "submit", value: "Save"}/
          / END app/views/settings/_section.html.erb
          / BEGIN app/views/settings/_section.html.erb
          %section.bg-white.border.border-alpha-black-25.shadow-xs.rounded-xl.p-4.space-y-4
            %div
              %h2.text-lg.font-medium.text-gray-900 Household
              %p.text-gray-500.text-sm.mt-1 Invite family members, partners and other inviduals.  Invitees can login to your household and access your shared accounts.
            %div
              .space-y-4
                %form.space-y-4{"accept-charset" => "UTF-8", action: "/settings/profile", "data-auto-submit-form-trigger-event-value" => "blur", "data-controller" => "auto-submit-form", method: "post"}
                  %input{autocomplete: "off", name: "_method", type: "hidden", value: "patch"}/
                  %input{autocomplete: "off", name: "authenticity_token", type: "hidden", value: "cvbBmQOsPqnu38Yh5qloxXKnWLSqLiF-zl8jRDolWKVOwP0sdpO7Z6DKw3ohODODQ-pGiHbiXGAOH3EQlq0KYw"}/
                  .form-field
                    %label.form-field__label{for: "user_family_attributes_name"} Household name
                    %input#user_family_attributes_name.form-field__input{"data-auto-submit-form-target" => "auto", disabled: "disabled", name: "user[family_attributes][name]", placeholder: "Enter household name", type: "text"}/
                .bg-gray-25.rounded-xl.p-1
                  .px-4.py-2
                    %p.uppercase.text-xs.text-gray-500.font-medium · 1
                  .flex.gap-2.items-center.bg-white.p-4.border.border-alpha-black-25.rounded-lg
                    .mr-1.flex.justify-center.items-center.bg-gray-50.w-8.h-8.rounded-full.border.border-alpha-black-25
                      %p.uppercase.text-xs.text-gray-500 Y
                    %p.text-gray-900.font-medium.text-sm yegor@mail.ru
                    .rounded-md.bg-gray-100{class: "px-1.5 py-0.5"}
                      %p.uppercase.text-gray-500.font-medium.text-xs member
                  %div
                    %button.cursor-not-allowed.flex.gap-1.justify-center.w-full.block.items-center.px-4.py-2{disabled: "disabled"}
                      %svg.w-4.h-4.text-gray-500{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}
                        %path{d: "M5 12h14"}
                        %path{d: "M12 5v14"}
                      %span.text-gray-500.text-sm.font-medium Add Member
          / END app/views/settings/_section.html.erb
          / BEGIN app/views/settings/_section.html.erb
          %section.bg-white.border.border-alpha-black-25.shadow-xs.rounded-xl.p-4.space-y-4
            %div
              %h2.text-lg.font-medium.text-gray-900 Danger Zone
            %div
              .flex.items-center.justify-between
                %div
                  %h3.font-medium.text-gray-900 Delete Account
                  %p.text-gray-500.text-sm Deleting your account will permanently remove all your data and cannot be undone.
                %form.button_to{action: "/settings/profile", method: "post"}
                  %input{autocomplete: "off", name: "_method", type: "hidden", value: "delete"}/
                  %button.bg-red-500.text-white.text-sm.font-medium.rounded-lg.px-3.py-2{"data-turbo-confirm" => "{\"title\":\"Delete account?\",\"body\":\"Are you sure you want to permanently delete your account? This action is irreversible.\",\"accept\":\"Delete Account\",\"acceptClass\":\"w-full bg-red-500 text-white rounded-xl text-center p-[10px] border mb-2\"}", type: "submit"} Delete Account
                  %input{autocomplete: "off", name: "authenticity_token", type: "hidden", value: "ir9iuFvQEnl5oJS3DT6hP1v9ED2OvPhy_e6ECLOyvi2bA1i1KxUYv3pihg7HdO8S7rwUjEfON3mvwuTn77NnPw"}/
          / END app/views/settings/_section.html.erb
        .flex.gap-4
          / BEGIN app/views/settings/_nav_link_large.html.erb
          %a.w-full.bg-white.hover:bg-gray-50.rounded-xl.border.border-alpha-black-25.shadow-xs.p-4.flex.items-center.justify-between{href: "/settings/preferences"}
            .flex-grow
              %span.block.text-sm.text-gray-500 Next
              %span.block.text-sm.font-medium.text-gray-900 Preferences
            .w-5.h-5.text-gray-500
              %svg{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}
                %path{d: "M5 12h14"}
                %path{d: "m12 5 7 7-7 7"}
          / END app/views/settings/_nav_link_large.html.erb
      / END app/views/settings/profiles/show.html.erb
  %turbo-frame#modal
  / BEGIN app/views/shared/_confirm_modal.html.erb
  %dialog#turbo-confirm.w-full.rounded-xl{class: "max-w-[420px]"}
    %form.p-4{method: "dialog"}
      .flex.flex-col.mb-4
        .flex.justify-between.mb-2.gap-4
          %h3#turbo-confirm-title.font-medium.text-md Are you sure?
          %button{value: "cancel"}
            %svg.w-5.h-5.shrink-0.text-gray-500{"aria-hidden" => "true", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", viewbox: "0 0 24 24", width: "24"}
              %path{d: "M18 6 6 18"}
              %path{d: "m6 6 12 12"}
        #turbo-confirm-body.text-gray-500.text-sm
          %p You will not be able to undo this decision
      %button#turbo-confirm-accept.w-full.text-red-600.rounded-xl.text-center.border.mb-2{class: "p-[10px]", value: "confirm"} Confirm
      %button.w-full.rounded-xl.text-center.border{class: "p-[10px]", value: "cancel"} Cancel
  / END app/views/shared/_confirm_modal.html.erb
  / BEGIN app/views/shared/_upgrade_notification.html.erb
  / END app/views/shared/_upgrade_notification.html.erb